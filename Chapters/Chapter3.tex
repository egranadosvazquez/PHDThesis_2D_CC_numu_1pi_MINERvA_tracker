\chapter{Simulation}
\minitoc
\label{Cap:Simulation}

\section{Introduction}
\label{Cap:Simulation:Introduction}
The simulation of the MINER$\nu$A detector has multiple functions, such as background estimation, efficiency detector studies, simulation of reconstruction and the comparison of different  model with data. In this Chapter the different steps of the MINER$\nu$A experiment simulation are explained, including the beam simulation and a brief description of the models used by the simulators.

The simulation starts with the beam simulation, followed by the neutrino interaction simulation inside of the MINER$\nu$A detector geometry. It proceeds with the simulation of the propagation of the resultant particles in the interaction with the detector, here the deposited energy, the particles track and secondary particles are simulated. The last part of the simulation consist in a decalibration of the results from the previews stage in the way to simulate the same conditions of the real detector. At the end, it returns the simulated data in the same format that the raw data. In the following sections, the simulation steps are explained.

\section{Beam simulation}
\label{Cap:Simulation:BeamSimulation}

The neutrino flux simulation is performed in G4NuMI, based in GEANT 4 \cite{GEANT4}. In this stage the production of hadrons, the focusing and the secondary interactions of the hadrons with the different components of NuMI are simulated. It starts giving as input the proton beam from Main Injector and finishes with the neutrino beam. A detailed description of the flux simulation can be found here \cite{LeoThesis}.

Most part of NuMI geometry components are included in the simulation, such as the magnetic horns, the decay pipe, the absorbers, etc. The flux simulation is specially sensitive to the hadron production and the flux focusing. 

The proton beam from Main Injector, it corresponds to a 120 GeV kinetic energy with a Gaussian transverse profile distribution with $\sigma$ = 1.1 mm, continuing with the hadron production simulation. For the hadron production, the GEANT 4 hadronic model by the fault use the  




\section{Interaction Simulation}
\label{Cap:Simulation:InteractionSimulation}

\subsection{GENIE}
\label{Cap:Simulation:GENIE}

\section{Detector Simulation}
\label{Cap:Simulation:DetectorSimulation}

\subsection{GEAN 4}
\label{Cap:Simulation:GEANT4}

\section{MC reconstruction}
\label{Cap:Simulation:MCReconstruction}




